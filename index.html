<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta snippet="spa-cache-control" name="spa-cache-control" content="cache">
	<title snippet="title">Index page</title>
	<!-- <script type="module">
		import Signalize from 'signalizejs';
		import directives from 'signalizejs/directives';

		const { bind, select, signal } = new Signalize({
			plugins: [ ]
		});

		const smallerNumber = signal(0);
		const largerNumber = signal(0);

		smallerNumber.watch(({ newValue, oldValue }) => {
			return {
				value: newValue >= largerNumber() ? largerNumber() - 1 : newValue,
			}
		}, { execution: 'beforeSet' });

		smallerNumber.watch(({ newValue, oldValue }) => {
			console.log(newValue, oldValue);
		});

		bind(select('#smaller'), { value: smallerNumber });
		bind(select('#larger'), { value: largerNumber });
		bind(select('#sum'), { text: [smallerNumber, largerNumber, () => largerNumber + smallerNumber]})
	</script> -->
</head>

<body>
	<style>
		[cloak] {
			visibility: hidden;
		}
	</style>

	<form $items="[]" $value="" @submit="() => {
		$event.preventDefault();
		items.set([...new Set([...items(), value()])]);
		value.set('');
	}">
		<!-- Shortcuts for attribute binding -->
		<input {value} placeholder="Type something" required>
		<button>Add</button>
		<br>
		<!-- Native for of/in loops -->
		<template :for="item of items">
			<!-- Iterator feature: count, first, last, odd, even -->
			<div :text="item + (iterator.last ? '' : ', ')" :style="iterator.odd ? 'color:red': 'color:blue'"></div>
		</template>
	</form>
	<script type="module">
		import Signalize from 'signalizejs';
		import directives from 'signalizejs/directives';

		// Use the directives plugin
		new Signalize({ plugins: [directives()] })
	</script>

	<!-- <input id="smaller" type="number">
	<input id="larger" type="number">

	<div id="sum"></div>
 -->
	<!-- Conditional loop for large amount of elements -->
	<div $text="'Hello World!'" $count="10">
		<input :value="text">
		<button @click="count.set(count() + 1)">Přidej<span :text="count"></span></button>
		<button @click="count.set(count() - 1)">Odeber<span :text="count"></span></button><br>
		<ul>
			<template :for="i of count()">
				<li :key="i">
					<template :if="i % 2 !== 0">
						<span :text="'Odd' + i + ' - ' + text"></span>
					</template>
					<template :if="i % 2 === 0">
						<span :text="'Even' + i + ' - ' + text" :style="text().length > 2 ? 'color:red' : 'color:blue'"></span>
					</template>
				</li>
			</template>
		</ul>
	</div>

	<!-- <div $text="">
		<input :value="text">
		<div :text="text"></div>
	</div> -->

	<!-- <form $items="{}" $text="" @submit="
		event.preventDefault();
		items.set({...items(), [text()]: text()})
		text.set('');
	">
		<input :value="text">
		<ul>
			<template :for="item of Object.keys(items()).sort()">
				<li :key="item.replace(/s/g, '')">
					<a
						role="button"
						@click="() => {
							const newItems = items();
							delete newItems[item];
							items.set(newItems);
						}
						"
					>
						<span :text="item"></span> - X
					</a>
				</li>
			</template>
		</ul>
	</form> -->

	<!-- <template :for="[name, surname] of Object.entries({name: 'vladimir', surname: 'Macháček'})">
		<li :text="name + ' ' + surname"></li>
	</template> -->

	<!-- <div $items="[1,2]">
		<template :for="i of items">
			<div>
				<template :if="i % 2 !== 0">
					<li :text="'Odd - ' + items().length"></li>
				</template>
				<template :if="i % 2 === 0">
					<li :text="'Even - ' + items().length"></li>
				</template>
				<template :if="true"><div :text="'text'"></div></template>
			</div>
		</template>
	</div> -->

	<!-- <div $items="[]">
		<button @click="items.set([items().length, ...items()])" :text="'+' + items().length"></button>
		<button @click="items.set(items().slice(1))" :text="'-' + items().length"></button>

		<template :for="i of items()">
			<div $text="i" :key="i"><input :value="text"><span :text="text"></span></div>
		</template>
	</div> -->

	<!-- <template :for="i in 1100">
		<div :text="i"></div>
	</template> -->
	<!-- 	<button $count="0" @click="count.set(count() + 1)">Count <span :text="count"></span></button>
 -->
	<!-- <div $text="'Longer'">
		<template :if="text().length < 2">
			<span>Shorter</span>
		</template>
		<template :if="text().length >= 2">
			<span>Meh</span>
		</template>
	</div> -->

	<!-- <div $meh="2">
		<div scope="counter" $count="0">
			<button @click="count.set(count() + 1)">Count <span :text="count"></span></button>
		</div>
	</div> -->

	<!-- <div $number="0">
		<button @click="number.set(number() + 1)">+</button>
		<button @click="number.set(number() - 1)">-</button>
		<template :if="number() > 0">
			<div>Yupí! <span :html="number"></span></div>
		</template>
	</div> -->
	<!-- <div id="cart-form"></div>

	<div $count="1">
		<button @click="count.set(count() + 1)">+</button>
		<button @click="count.set(count() - 1)">-</button>
		<template id="loop" singleroot :if="count > 0">
			<div></div>

		</template>
		<div template="loop">
			<div></div>
		</div>
	</div> -->

	<!-- <div $items="{
		birth: 0,
		label: 2
	}">
		<template :for="key in items">
			<div :html="key + ' - ' + items()[key]"></div>
		</template>
	</div>
 -->

</body>

</html>
