<!--
	Large loop with conditions and ternary operators.
-->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<script type="importmap">
		{
			"imports": {
				"signalizejs": "/packages/signalizejs/src/Signalize.js",
				"signalizejs/traverse-dom": "/packages/signalizejs/src/plugins/traverse-dom.js",
				"signalizejs/evaluator": "/packages/signalizejs/src/plugins/evaluator.js",
				"signalizejs/directives": "/packages/signalizejs/src/plugins/directives.js",
				"signalizejs/directives/for": "/packages/signalizejs/src/plugins/directives/for.js",
				"signalizejs/directives/if": "/packages/signalizejs/src/plugins/directives/if.js"
			}
		}
	</script>

	<script type="module">
		import Signalize from 'signalizejs';
		import directives from 'signalizejs/directives';
		import traverseDomPlugin from 'signalizejs/traverse-dom';
		import evaluator from 'signalizejs/evaluator';
		import ifDirective from 'signalizejs/directives/if';
		import forDirective from 'signalizejs/directives/for';

		const { component, signal } = new Signalize({
			plugins: [
				traverseDomPlugin(),
				evaluator(),
				directives(),
				ifDirective(),
				forDirective()
			]
		});

		component('invite-friends', {
			setup: () => {
				const items = signal([]);
				return {
					items,
					add: () => items([...items(), signal('')]),
					remove: () => items(items().slice(1)),
				}
			}
		})
	</script>

	<invite-friends>
		<button @click="add">Add</button>
		<button @click="remove">Remove</button>

		<template :for="item of items">
			<div>
				<input :value="item"><span :text="item"></span>
			</div>
		</template>
	</invite-friends>
</body>
</html>
