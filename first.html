<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="spa-cache-control" content="cache">
	<title>First page</title>
	<script type="module" src="http://localhost:5173/@vite/client"></script>
</head>

<body>
	<style>
		[cloak] {
			visibility: hidden;
		}
	</style>

	<script type="module">
		import Signalize from 'signalizejs';
		import fetch from 'signalizejs/fetch';
		import snippets from 'signalizejs/snippets';
		import directives from 'signalizejs/directives';
		import spa from 'signalizejs/spa';

		const { scope } = new Signalize({
			plugins: [
				fetch(),
				snippets(),
				spa(),
				directives()
			]
		});

		scope('test', ({ data }) => {
			data.click = () => alert('meh');
		});
	</script>

	<div snippet="body">
		<a href="/second.html">Second</a>
		<div scope="test">
			<button @click="click()">Click</button>
		</div>
	</div>

</body>

</html>
